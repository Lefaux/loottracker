{% extends 'base.html.twig' %}
{% import 'macros/macros.html.twig' as macros %}
{% block title %}Character Overview{% endblock %}

{% block body %}
    <div class="content-section bg-primary text-white">
        <div class="container">
            <h1>Most Wanted Items</h1>
        </div>
    </div>
    <div class="content-section bg-transparent">
        <div class="container">
            <table class="table table-striped">
                <tr>
                    <th>Item</th>
                    <th>Needed</th>
                    <th>Available</th>
                    <th>Show Players</th>
                </tr>
                {% for item in mostWantedItems %}
                    <tr>
                        <td>
                            <a href="#" data-wowhead="item={{ item.item_id }}&amp;domain=classic" data-wh-icon-size="medium"> [{{ item.name }}]</a>
                        </td>
                        <td>{{ item.amount }}</td>
                        <td>
                            <div class="progress">
                                <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: {{ (100/item.amount) * item.available|round }}%">{{ ((100/item.amount) * item.available)|round }}%</div>
                            </div>
                        </td>
                        <td>
                            <a href="{{ path('bis_need_by_item', {itemId:item.item_id}) }}">Show players with need</a>
                        </td>
                    </tr>
                {% endfor %}
            </table>
        </div>
    </div>
{% endblock %}
